{"version":3,"sources":["../../es6/observables/TimerObservable.js"],"names":[],"mappings":";;;;;;;;;;6BAAsB,mBAAmB;;;;2BAClB,eAAe;;;;kCACjB,wBAAwB;;;;IACxB,eAAe;cAAf,eAAe;;AACrB,aADM,eAAe,CACpB,OAAO,EAAM,MAAM,EAAE,SAAS,EAAE;YAAhC,OAAO,gBAAP,OAAO,GAAG,CAAC;;8BADN,eAAe;;AAE5B,8BAAO,CAAC;AACR,YAAI,CAAC,OAAO,GAAG,OAAO,CAAC;AACvB,YAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AACrB,YAAI,CAAC,SAAS,GAAG,SAAS,CAAC;AAC3B,YAAI,2BAAU,MAAM,CAAC,EAAE;AACnB,gBAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,MAAM,CAAC,CAAC;SAC5D,MACI,IAAI,MAAM,IAAI,OAAO,MAAM,CAAC,QAAQ,KAAK,UAAU,EAAE;AACtD,qBAAS,GAAG,MAAM,CAAC;SACtB;AACD,YAAI,CAAC,SAAS,IAAI,OAAO,SAAS,CAAC,QAAQ,KAAK,UAAU,EAAE;AACxD,qBAAS,kCAAW,CAAC;SACxB;AACD,YAAI,CAAC,SAAS,GAAG,SAAS,CAAC;KAC9B;;;;AAhBgB,mBAAe,CAiBzB,MAAM,GAAA,gBAAC,OAAO,EAAM,MAAM,EAAE,SAAS,EAAE;YAAhC,OAAO,gBAAP,OAAO,GAAG,CAAC;;AACrB,eAAO,IAAI,eAAe,CAAC,OAAO,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC;KAC1D;;AAnBgB,mBAAe,CAoBzB,QAAQ,GAAA,kBAAC,KAAK,EAAE;YACX,KAAK,GAAyB,KAAK,CAAnC,KAAK;YAAE,MAAM,GAAiB,KAAK,CAA5B,MAAM;YAAE,UAAU,GAAK,KAAK,CAApB,UAAU;;AACjC,YAAM,MAAM,GAAG,IAAI,CAAC;AACpB,kBAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACvB,YAAI,OAAO,MAAM,KAAK,WAAW,EAAE;AAC/B,sBAAU,CAAC,QAAQ,EAAE,CAAC;AACtB,mBAAO;SACV,MACI,IAAI,UAAU,CAAC,cAAc,EAAE;AAChC,mBAAO;SACV;AACD,YAAI,OAAO,MAAM,CAAC,KAAK,KAAK,WAAW,EAAE;AACrC,kBAAM,CAAC,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,eAAe,CAAC,QAAQ,EAAE,MAAM,EAAE;AACnE,qBAAK,EAAE,KAAK,GAAG,CAAC,EAAE,MAAM,EAAN,MAAM,EAAE,UAAU,EAAV,UAAU;aACvC,CAAC,CAAC,CAAC;SACP,MACI;AACD,iBAAK,CAAC,KAAK,GAAG,KAAK,GAAG,CAAC,CAAC;AACxB,kBAAM,CAAC,QAAQ,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;SAClC;KACJ;;AAxCgB,mBAAe,WAyChC,UAAU,GAAA,oBAAC,UAAU,EAAE;AACnB,YAAM,KAAK,GAAG,CAAC,CAAC;AAChB,YAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC;AAC5B,YAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;AAC7B,YAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;AACjC,kBAAU,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,eAAe,CAAC,QAAQ,EAAE,OAAO,EAAE,EAAE,KAAK,EAAL,KAAK,EAAE,MAAM,EAAN,MAAM,EAAE,UAAU,EAAV,UAAU,EAAE,CAAC,CAAC,CAAC;KACxG;;WA/CgB,eAAe;;;qBAAf,eAAe","file":"TimerObservable.js","sourcesContent":["import isNumeric from '../util/isNumeric';\nimport Observable from '../Observable';\nimport nextTick from '../schedulers/nextTick';\nexport default class TimerObservable extends Observable {\n    constructor(dueTime = 0, period, scheduler) {\n        super();\n        this.dueTime = dueTime;\n        this.period = period;\n        this.scheduler = scheduler;\n        if (isNumeric(period)) {\n            this._period = Number(period) < 1 && 1 || Number(period);\n        }\n        else if (period && typeof period.schedule === 'function') {\n            scheduler = period;\n        }\n        if (!scheduler || typeof scheduler.schedule !== 'function') {\n            scheduler = nextTick;\n        }\n        this.scheduler = scheduler;\n    }\n    static create(dueTime = 0, period, scheduler) {\n        return new TimerObservable(dueTime, period, scheduler);\n    }\n    static dispatch(state) {\n        const { index, period, subscriber } = state;\n        const action = this;\n        subscriber.next(index);\n        if (typeof period === 'undefined') {\n            subscriber.complete();\n            return;\n        }\n        else if (subscriber.isUnsubscribed) {\n            return;\n        }\n        if (typeof action.delay === 'undefined') {\n            action.add(action.scheduler.schedule(TimerObservable.dispatch, period, {\n                index: index + 1, period, subscriber\n            }));\n        }\n        else {\n            state.index = index + 1;\n            action.schedule(state, period);\n        }\n    }\n    _subscribe(subscriber) {\n        const index = 0;\n        const period = this._period;\n        const dueTime = this.dueTime;\n        const scheduler = this.scheduler;\n        subscriber.add(scheduler.schedule(TimerObservable.dispatch, dueTime, { index, period, subscriber }));\n    }\n}\n//# sourceMappingURL=TimerObservable.js.map"]}