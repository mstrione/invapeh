{"version":3,"sources":["../es6/Subscriber.js"],"names":[],"mappings":"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","file":"Subscriber.js","sourcesContent":["import noop from './util/noop';\nimport throwError from './util/throwError';\nimport tryOrOnError from './util/tryOrOnError';\nimport Subscription from './Subscription';\nexport default class Subscriber extends Subscription {\n    constructor(destination) {\n        super();\n        this.destination = destination;\n        this._isUnsubscribed = false;\n        if (!this.destination) {\n            return;\n        }\n        const subscription = destination._subscription;\n        if (subscription) {\n            this._subscription = subscription;\n        }\n        else if (destination instanceof Subscriber) {\n            this._subscription = destination;\n        }\n    }\n    get isUnsubscribed() {\n        const subscription = this._subscription;\n        if (subscription) {\n            // route to the shared Subscription if it exists\n            return this._isUnsubscribed || subscription.isUnsubscribed;\n        }\n        else {\n            return this._isUnsubscribed;\n        }\n    }\n    set isUnsubscribed(value) {\n        const subscription = this._subscription;\n        if (subscription) {\n            // route to the shared Subscription if it exists\n            subscription.isUnsubscribed = Boolean(value);\n        }\n        else {\n            this._isUnsubscribed = Boolean(value);\n        }\n    }\n    static create(next, error, complete) {\n        const subscriber = new Subscriber();\n        subscriber._next = (typeof next === \"function\") && tryOrOnError(next) || noop;\n        subscriber._error = (typeof error === \"function\") && error || throwError;\n        subscriber._complete = (typeof complete === \"function\") && complete || noop;\n        return subscriber;\n    }\n    add(sub) {\n        // route add to the shared Subscription if it exists\n        const _subscription = this._subscription;\n        if (_subscription) {\n            _subscription.add(sub);\n        }\n        else {\n            super.add(sub);\n        }\n    }\n    remove(sub) {\n        // route remove to the shared Subscription if it exists\n        if (this._subscription) {\n            this._subscription.remove(sub);\n        }\n        else {\n            super.remove(sub);\n        }\n    }\n    unsubscribe() {\n        if (this._isUnsubscribed) {\n            return;\n        }\n        else if (this._subscription) {\n            this._isUnsubscribed = true;\n        }\n        else {\n            super.unsubscribe();\n        }\n    }\n    _next(value) {\n        this.destination.next(value);\n    }\n    _error(err) {\n        this.destination.error(err);\n    }\n    _complete() {\n        this.destination.complete();\n    }\n    next(value) {\n        if (!this.isUnsubscribed) {\n            this._next(value);\n        }\n    }\n    error(error) {\n        if (!this.isUnsubscribed) {\n            this._error(error);\n            this.unsubscribe();\n        }\n    }\n    complete() {\n        if (!this.isUnsubscribed) {\n            this._complete();\n            this.unsubscribe();\n        }\n    }\n}\n//# sourceMappingURL=Subscriber.js.map"]}