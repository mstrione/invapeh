{"version":3,"sources":["../../es6/schedulers/ImmediateAction.js"],"names":[],"mappings":";;;;;;;;;;6BAAyB,iBAAiB;;;;IACrB,eAAe;cAAf,eAAe;;AACrB,aADM,eAAe,CACpB,SAAS,EAAE,IAAI,EAAE;8BADZ,eAAe;;AAE5B,gCAAO,CAAC;AACR,YAAI,CAAC,SAAS,GAAG,SAAS,CAAC;AAC3B,YAAI,CAAC,IAAI,GAAG,IAAI,CAAC;KACpB;;;;AALgB,mBAAe,WAMhC,QAAQ,GAAA,kBAAC,KAAK,EAAE;AACZ,YAAI,IAAI,CAAC,cAAc,EAAE;AACrB,mBAAO,IAAI,CAAC;SACf;AACD,YAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACnB,YAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;AACjC,iBAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC7B,iBAAS,CAAC,KAAK,EAAE,CAAC;AAClB,eAAO,IAAI,CAAC;KACf;;AAfgB,mBAAe,WAgBhC,OAAO,GAAA,mBAAG;AACN,YAAI,IAAI,CAAC,cAAc,EAAE;AACrB,kBAAM,IAAI,KAAK,CAAC,2CAA2C,CAAC,CAAC;SAChE;AACD,YAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACzB;;AArBgB,mBAAe,WAsBhC,WAAW,GAAA,uBAAG;AACV,YAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;AACjC,YAAM,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;AAClC,YAAM,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AACpC,YAAI,CAAC,IAAI,GAAG,KAAK,CAAC,CAAC;AACnB,YAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC;AACpB,YAAI,CAAC,SAAS,GAAG,KAAK,CAAC,CAAC;AACxB,YAAI,KAAK,KAAK,CAAC,CAAC,EAAE;AACd,mBAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;SAC5B;AACD,gCAAM,WAAW,KAAA,MAAE,CAAC;KACvB;;WAjCgB,eAAe;;;qBAAf,eAAe","file":"ImmediateAction.js","sourcesContent":["import Subscription from '../Subscription';\nexport default class ImmediateAction extends Subscription {\n    constructor(scheduler, work) {\n        super();\n        this.scheduler = scheduler;\n        this.work = work;\n    }\n    schedule(state) {\n        if (this.isUnsubscribed) {\n            return this;\n        }\n        this.state = state;\n        const scheduler = this.scheduler;\n        scheduler.actions.push(this);\n        scheduler.flush();\n        return this;\n    }\n    execute() {\n        if (this.isUnsubscribed) {\n            throw new Error('How did did we execute a canceled Action?');\n        }\n        this.work(this.state);\n    }\n    unsubscribe() {\n        const scheduler = this.scheduler;\n        const actions = scheduler.actions;\n        const index = actions.indexOf(this);\n        this.work = void 0;\n        this.state = void 0;\n        this.scheduler = void 0;\n        if (index !== -1) {\n            actions.splice(index, 1);\n        }\n        super.unsubscribe();\n    }\n}\n//# sourceMappingURL=ImmediateAction.js.map"]}