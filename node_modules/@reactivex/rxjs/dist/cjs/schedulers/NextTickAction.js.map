{"version":3,"sources":["../../es6/schedulers/NextTickAction.js"],"names":[],"mappings":";;;;;;;;;;6BAA0B,mBAAmB;;gCACjB,mBAAmB;;;;IAC1B,cAAc;cAAd,cAAc;;aAAd,cAAc;8BAAd,cAAc;;;;;;;AAAd,kBAAc,WAC/B,QAAQ,GAAA,kBAAC,KAAK,EAAE;;;AACZ,YAAI,IAAI,CAAC,cAAc,EAAE;AACrB,mBAAO,IAAI,CAAC;SACf;AACD,YAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACnB,YAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;AACjC,iBAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC7B,YAAI,CAAC,SAAS,CAAC,SAAS,EAAE;AACtB,qBAAS,CAAC,SAAS,GAAG,IAAI,CAAC;AAC3B,gBAAI,CAAC,EAAE,GAAG,yBAAU,YAAY,CAAC,YAAM;AACnC,sBAAK,EAAE,GAAG,IAAI,CAAC;AACf,sBAAK,SAAS,CAAC,SAAS,GAAG,KAAK,CAAC;AACjC,sBAAK,SAAS,CAAC,KAAK,EAAE,CAAC;aAC1B,CAAC,CAAC;SACN;AACD,eAAO,IAAI,CAAC;KACf;;AAjBgB,kBAAc,WAkB/B,WAAW,GAAA,uBAAG;AACV,YAAM,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;AACnB,YAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;AACjC,mCAAM,WAAW,KAAA,MAAE,CAAC;AACpB,YAAI,SAAS,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;AAChC,qBAAS,CAAC,MAAM,GAAG,KAAK,CAAC;AACzB,qBAAS,CAAC,SAAS,GAAG,KAAK,CAAC;SAC/B;AACD,YAAI,EAAE,EAAE;AACJ,gBAAI,CAAC,EAAE,GAAG,IAAI,CAAC;AACf,qCAAU,cAAc,CAAC,EAAE,CAAC,CAAC;SAChC;KACJ;;WA9BgB,cAAc;;;qBAAd,cAAc","file":"NextTickAction.js","sourcesContent":["import { Immediate } from '../util/Immediate';\nimport ImmediateAction from './ImmediateAction';\nexport default class NextTickAction extends ImmediateAction {\n    schedule(state) {\n        if (this.isUnsubscribed) {\n            return this;\n        }\n        this.state = state;\n        const scheduler = this.scheduler;\n        scheduler.actions.push(this);\n        if (!scheduler.scheduled) {\n            scheduler.scheduled = true;\n            this.id = Immediate.setImmediate(() => {\n                this.id = null;\n                this.scheduler.scheduled = false;\n                this.scheduler.flush();\n            });\n        }\n        return this;\n    }\n    unsubscribe() {\n        const id = this.id;\n        const scheduler = this.scheduler;\n        super.unsubscribe();\n        if (scheduler.actions.length === 0) {\n            scheduler.active = false;\n            scheduler.scheduled = false;\n        }\n        if (id) {\n            this.id = null;\n            Immediate.clearImmediate(id);\n        }\n    }\n}\n//# sourceMappingURL=NextTickAction.js.map"]}