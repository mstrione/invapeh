{"version":3,"sources":["../../es6/schedulers/ImmediateScheduler.js"],"names":[],"mappings":";;;;;;;;+BAA4B,mBAAmB;;;;4BACtB,gBAAgB;;;;IACpB,kBAAkB;AACxB,aADM,kBAAkB,GACrB;8BADG,kBAAkB;;AAE/B,YAAI,CAAC,OAAO,GAAG,EAAE,CAAC;AAClB,YAAI,CAAC,MAAM,GAAG,KAAK,CAAC;AACpB,YAAI,CAAC,SAAS,GAAG,KAAK,CAAC;KAC1B;;;;AALgB,sBAAkB,WAMnC,GAAG,GAAA,eAAG;AACF,eAAO,IAAI,CAAC,GAAG,EAAE,CAAC;KACrB;;AARgB,sBAAkB,WASnC,KAAK,GAAA,iBAAG;AACJ,YAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,SAAS,EAAE;AAC/B,mBAAO;SACV;AACD,YAAI,CAAC,MAAM,GAAG,IAAI,CAAC;AACnB,YAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;AAC7B,aAAK,IAAI,MAAM,YAAA,EAAE,MAAM,GAAG,OAAO,CAAC,KAAK,EAAE,GAAG;AACxC,kBAAM,CAAC,OAAO,EAAE,CAAC;SACpB;AACD,YAAI,CAAC,MAAM,GAAG,KAAK,CAAC;KACvB;;AAnBgB,sBAAkB,WAoBnC,QAAQ,GAAA,kBAAC,IAAI,EAAE,KAAK,EAAM,KAAK,EAAE;YAAlB,KAAK,gBAAL,KAAK,GAAG,CAAC;;AACpB,eAAO,AAAC,KAAK,IAAI,CAAC,GACd,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,CAAC,GAC7B,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;KAC9C;;AAxBgB,sBAAkB,WAyBnC,WAAW,GAAA,qBAAC,IAAI,EAAE,KAAK,EAAE;AACrB,eAAO,iCAAoB,IAAI,EAAE,IAAI,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;KAC1D;;AA3BgB,sBAAkB,WA4BnC,aAAa,GAAA,uBAAC,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE;AAC9B,eAAO,8BAAiB,IAAI,EAAE,IAAI,CAAC,CAAC,QAAQ,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;KAC9D;;WA9BgB,kBAAkB;;;qBAAlB,kBAAkB","file":"ImmediateScheduler.js","sourcesContent":["import ImmediateAction from './ImmediateAction';\nimport FutureAction from './FutureAction';\nexport default class ImmediateScheduler {\n    constructor() {\n        this.actions = [];\n        this.active = false;\n        this.scheduled = false;\n    }\n    now() {\n        return Date.now();\n    }\n    flush() {\n        if (this.active || this.scheduled) {\n            return;\n        }\n        this.active = true;\n        const actions = this.actions;\n        for (let action; action = actions.shift();) {\n            action.execute();\n        }\n        this.active = false;\n    }\n    schedule(work, delay = 0, state) {\n        return (delay <= 0) ?\n            this.scheduleNow(work, state) :\n            this.scheduleLater(work, delay, state);\n    }\n    scheduleNow(work, state) {\n        return new ImmediateAction(this, work).schedule(state);\n    }\n    scheduleLater(work, delay, state) {\n        return new FutureAction(this, work).schedule(state, delay);\n    }\n}\n//# sourceMappingURL=ImmediateScheduler.js.map"]}