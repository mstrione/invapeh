{"version":3,"sources":["../../es6/operators/window.js"],"names":[],"mappings":";;;qBAEwB,MAAM;;;;;;;;2BAFP,eAAe;;;;uBAClB,YAAY;;;;AACjB,SAAS,MAAM,CAAC,eAAe,EAAE;AAC5C,WAAO,IAAI,CAAC,IAAI,CAAC,IAAI,cAAc,CAAC,eAAe,CAAC,CAAC,CAAC;CACzD;;IACK,cAAc;AACL,aADT,cAAc,CACJ,eAAe,EAAE;8BAD3B,cAAc;;AAEZ,YAAI,CAAC,eAAe,GAAG,eAAe,CAAC;KAC1C;;AAHC,kBAAc,WAIhB,IAAI,GAAA,cAAC,UAAU,EAAE;AACb,eAAO,IAAI,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;KACjE;;WANC,cAAc;;;IAQd,gBAAgB;cAAhB,gBAAgB;;AACP,aADT,gBAAgB,CACN,WAAW,EAAE,eAAe,EAAE;8BADxC,gBAAgB;;AAEd,+BAAM,WAAW,CAAC,CAAC;AACnB,YAAI,CAAC,eAAe,GAAG,eAAe,CAAC;AACvC,YAAI,CAAC,MAAM,GAAG,0BAAa,CAAC;AAC5B,YAAI,CAAC,GAAG,CAAC,eAAe,CAAC,UAAU,CAAC,IAAI,+BAA+B,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAChF,YAAI,CAAC,UAAU,EAAE,CAAC;KACrB;;AAPC,oBAAgB,WAQlB,KAAK,GAAA,eAAC,KAAK,EAAE;AACT,YAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAC3B;;AAVC,oBAAgB,WAWlB,MAAM,GAAA,gBAAC,GAAG,EAAE;AACR,YAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACvB,YAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;KAC/B;;AAdC,oBAAgB,WAelB,SAAS,GAAA,qBAAG;AACR,YAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;AACvB,YAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;KAC/B;;AAlBC,oBAAgB,WAmBlB,UAAU,GAAA,sBAAG;AACT,YAAM,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC;AAC/B,YAAI,UAAU,EAAE;AACZ,sBAAU,CAAC,QAAQ,EAAE,CAAC;SACzB;AACD,YAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,0BAAa,CAAC,CAAC;KACtD;;WAzBC,gBAAgB;;;IA2BhB,+BAA+B;cAA/B,+BAA+B;;AACtB,aADT,+BAA+B,CACrB,MAAM,EAAE;8BADlB,+BAA+B;;AAE7B,gCAAM,IAAI,CAAC,CAAC;AACZ,YAAI,CAAC,MAAM,GAAG,MAAM,CAAC;KACxB;;;;AAJC,mCAA+B,WAKjC,KAAK,GAAA,iBAAG;AACJ,YAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;KAC5B;;AAPC,mCAA+B,WAQjC,MAAM,GAAA,gBAAC,GAAG,EAAE;AACR,YAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;KAC3B;;AAVC,mCAA+B,WAWjC,SAAS,GAAA,qBAAG;AACR,YAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;KAC3B;;WAbC,+BAA+B","file":"window.js","sourcesContent":["import Subscriber from '../Subscriber';\nimport Subject from '../Subject';\nexport default function window(closingNotifier) {\n    return this.lift(new WindowOperator(closingNotifier));\n}\nclass WindowOperator {\n    constructor(closingNotifier) {\n        this.closingNotifier = closingNotifier;\n    }\n    call(subscriber) {\n        return new WindowSubscriber(subscriber, this.closingNotifier);\n    }\n}\nclass WindowSubscriber extends Subscriber {\n    constructor(destination, closingNotifier) {\n        super(destination);\n        this.closingNotifier = closingNotifier;\n        this.window = new Subject();\n        this.add(closingNotifier._subscribe(new WindowClosingNotifierSubscriber(this)));\n        this.openWindow();\n    }\n    _next(value) {\n        this.window.next(value);\n    }\n    _error(err) {\n        this.window.error(err);\n        this.destination.error(err);\n    }\n    _complete() {\n        this.window.complete();\n        this.destination.complete();\n    }\n    openWindow() {\n        const prevWindow = this.window;\n        if (prevWindow) {\n            prevWindow.complete();\n        }\n        this.destination.next(this.window = new Subject());\n    }\n}\nclass WindowClosingNotifierSubscriber extends Subscriber {\n    constructor(parent) {\n        super(null);\n        this.parent = parent;\n    }\n    _next() {\n        this.parent.openWindow();\n    }\n    _error(err) {\n        this.parent._error(err);\n    }\n    _complete() {\n        this.parent._complete();\n    }\n}\n//# sourceMappingURL=window.js.map"]}