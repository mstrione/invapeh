{"version":3,"sources":["../../es6/operators/throttle.js"],"names":[],"mappings":";;;qBAEwB,QAAQ;;;;;;;;2BAFT,eAAe;;;;kCACjB,wBAAwB;;;;AAC9B,SAAS,QAAQ,CAAC,KAAK,EAAwB;QAAtB,SAAS;;AAC7C,WAAO,IAAI,CAAC,IAAI,CAAC,IAAI,gBAAgB,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC,CAAC;CAC5D;;IACK,gBAAgB;AACP,aADT,gBAAgB,CACN,KAAK,EAAE,SAAS,EAAE;8BAD5B,gBAAgB;;AAEd,YAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACnB,YAAI,CAAC,SAAS,GAAG,SAAS,CAAC;KAC9B;;AAJC,oBAAgB,WAKlB,IAAI,GAAA,cAAC,UAAU,EAAE;AACb,eAAO,IAAI,kBAAkB,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;KACzE;;WAPC,gBAAgB;;;IAShB,kBAAkB;cAAlB,kBAAkB;;AACT,aADT,kBAAkB,CACR,WAAW,EAAE,KAAK,EAAE,SAAS,EAAE;8BADzC,kBAAkB;;AAEhB,+BAAM,WAAW,CAAC,CAAC;AACnB,YAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACnB,YAAI,CAAC,SAAS,GAAG,SAAS,CAAC;KAC9B;;AALC,sBAAkB,WAMpB,KAAK,GAAA,eAAC,KAAK,EAAE;AACT,YAAI,CAAC,IAAI,CAAC,SAAS,EAAE;AACjB,gBAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,YAAY,EAAE,IAAI,CAAC,KAAK,EAAE,EAAE,KAAK,EAAL,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;SAC7G;KACJ;;AAVC,sBAAkB,WAWpB,aAAa,GAAA,uBAAC,KAAK,EAAE;AACjB,YAAI,CAAC,aAAa,EAAE,CAAC;AACrB,YAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAChC;;AAdC,sBAAkB,WAepB,aAAa,GAAA,yBAAG;AACZ,YAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;AACjC,YAAI,SAAS,EAAE;AACX,qBAAS,CAAC,WAAW,EAAE,CAAC;AACxB,gBAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;SAC1B;KACJ;;WArBC,kBAAkB;;;AAuBxB,SAAS,YAAY,CAAC,IAAqB,EAAE;QAArB,KAAK,GAAP,IAAqB,CAAnB,KAAK;QAAE,UAAU,GAAnB,IAAqB,CAAZ,UAAU;;AACrC,cAAU,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;CACnC","file":"throttle.js","sourcesContent":["import Subscriber from '../Subscriber';\nimport nextTick from '../schedulers/nextTick';\nexport default function throttle(delay, scheduler = nextTick) {\n    return this.lift(new ThrottleOperator(delay, scheduler));\n}\nclass ThrottleOperator {\n    constructor(delay, scheduler) {\n        this.delay = delay;\n        this.scheduler = scheduler;\n    }\n    call(subscriber) {\n        return new ThrottleSubscriber(subscriber, this.delay, this.scheduler);\n    }\n}\nclass ThrottleSubscriber extends Subscriber {\n    constructor(destination, delay, scheduler) {\n        super(destination);\n        this.delay = delay;\n        this.scheduler = scheduler;\n    }\n    _next(value) {\n        if (!this.throttled) {\n            this.add(this.throttled = this.scheduler.schedule(dispatchNext, this.delay, { value, subscriber: this }));\n        }\n    }\n    throttledNext(value) {\n        this.clearThrottle();\n        this.destination.next(value);\n    }\n    clearThrottle() {\n        const throttled = this.throttled;\n        if (throttled) {\n            throttled.unsubscribe();\n            this.remove(throttled);\n        }\n    }\n}\nfunction dispatchNext({ value, subscriber }) {\n    subscriber.throttledNext(value);\n}\n//# sourceMappingURL=throttle.js.map"]}