{"version":3,"sources":["../../es6/operators/switch.js"],"names":[],"mappings":";;;qBAEwB,OAAO;;;;;;;;gCAFH,oBAAoB;;;;qCAClB,2BAA2B;;;;AAC1C,SAAS,OAAO,GAAG;AAC9B,WAAO,IAAI,CAAC,IAAI,CAAC,IAAI,cAAc,EAAE,CAAC,CAAC;CAC1C;;IACK,cAAc;aAAd,cAAc;8BAAd,cAAc;;;AAAd,kBAAc,WAChB,IAAI,GAAA,cAAC,UAAU,EAAE;AACb,eAAO,IAAI,gBAAgB,CAAC,UAAU,CAAC,CAAC;KAC3C;;WAHC,cAAc;;;IAKd,gBAAgB;cAAhB,gBAAgB;;AACP,aADT,gBAAgB,CACN,WAAW,EAAE;8BADvB,gBAAgB;;AAEd,oCAAM,WAAW,CAAC,CAAC;AACnB,YAAI,CAAC,MAAM,GAAG,CAAC,CAAC;AAChB,YAAI,CAAC,YAAY,GAAG,KAAK,CAAC;KAC7B;;;;AALC,oBAAgB,WAMlB,KAAK,GAAA,eAAC,KAAK,EAAE;AACT,YAAI,CAAC,gBAAgB,EAAE,CAAC;AACxB,YAAI,CAAC,MAAM,EAAE,CAAC;AACd,YAAI,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,GAAG,mCAAkB,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;KACrE;;AAVC,oBAAgB,WAWlB,SAAS,GAAA,qBAAG;AACR,YAAI,CAAC,YAAY,GAAG,IAAI,CAAC;AACzB,YAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACnB,gBAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;SAC/B;KACJ;;AAhBC,oBAAgB,WAiBlB,gBAAgB,GAAA,4BAAG;AACf,YAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;AACpD,YAAM,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC;AACjD,YAAI,iBAAiB,EAAE;AACnB,6BAAiB,CAAC,WAAW,EAAE,CAAC;AAChC,gBAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;SAClC;KACJ;;AAxBC,oBAAgB,WAyBlB,UAAU,GAAA,oBAAC,UAAU,EAAE,UAAU,EAAE;AAC/B,YAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;KACrC;;AA3BC,oBAAgB,WA4BlB,WAAW,GAAA,qBAAC,GAAG,EAAE;AACb,YAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;KAC/B;;AA9BC,oBAAgB,WA+BlB,cAAc,GAAA,0BAAG;AACb,YAAI,CAAC,gBAAgB,EAAE,CAAC;AACxB,YAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACxC,gBAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;SAC/B;KACJ;;WApCC,gBAAgB","file":"switch.js","sourcesContent":["import OuterSubscriber from '../OuterSubscriber';\nimport subscribeToResult from '../util/subscribeToResult';\nexport default function _switch() {\n    return this.lift(new SwitchOperator());\n}\nclass SwitchOperator {\n    call(subscriber) {\n        return new SwitchSubscriber(subscriber);\n    }\n}\nclass SwitchSubscriber extends OuterSubscriber {\n    constructor(destination) {\n        super(destination);\n        this.active = 0;\n        this.hasCompleted = false;\n    }\n    _next(value) {\n        this.unsubscribeInner();\n        this.active++;\n        this.add(this.innerSubscription = subscribeToResult(this, value));\n    }\n    _complete() {\n        this.hasCompleted = true;\n        if (this.active === 0) {\n            this.destination.complete();\n        }\n    }\n    unsubscribeInner() {\n        this.active = this.active > 0 ? this.active - 1 : 0;\n        const innerSubscription = this.innerSubscription;\n        if (innerSubscription) {\n            innerSubscription.unsubscribe();\n            this.remove(innerSubscription);\n        }\n    }\n    notifyNext(outerValue, innerValue) {\n        this.destination.next(innerValue);\n    }\n    notifyError(err) {\n        this.destination.error(err);\n    }\n    notifyComplete() {\n        this.unsubscribeInner();\n        if (this.hasCompleted && this.active === 0) {\n            this.destination.complete();\n        }\n    }\n}\n//# sourceMappingURL=switch.js.map"]}