{"version":3,"sources":["../../es6/operators/debounceTime.js"],"names":[],"mappings":";;;qBAEwB,YAAY;;;;;;;;2BAFb,eAAe;;;;kCACjB,wBAAwB;;;;AAC9B,SAAS,YAAY,CAAC,OAAO,EAAwB;QAAtB,SAAS;;AACnD,WAAO,IAAI,CAAC,IAAI,CAAC,IAAI,oBAAoB,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC,CAAC;CAClE;;IACK,oBAAoB;AACX,aADT,oBAAoB,CACV,OAAO,EAAE,SAAS,EAAE;8BAD9B,oBAAoB;;AAElB,YAAI,CAAC,OAAO,GAAG,OAAO,CAAC;AACvB,YAAI,CAAC,SAAS,GAAG,SAAS,CAAC;KAC9B;;AAJC,wBAAoB,WAKtB,IAAI,GAAA,cAAC,UAAU,EAAE;AACb,eAAO,IAAI,sBAAsB,CAAC,UAAU,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;KAC/E;;WAPC,oBAAoB;;;IASpB,sBAAsB;cAAtB,sBAAsB;;AACb,aADT,sBAAsB,CACZ,WAAW,EAAE,OAAO,EAAE,SAAS,EAAE;8BAD3C,sBAAsB;;AAEpB,+BAAM,WAAW,CAAC,CAAC;AACnB,YAAI,CAAC,OAAO,GAAG,OAAO,CAAC;AACvB,YAAI,CAAC,SAAS,GAAG,SAAS,CAAC;AAC3B,YAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;AAClC,YAAI,CAAC,SAAS,GAAG,IAAI,CAAC;KACzB;;AAPC,0BAAsB,WAQxB,KAAK,GAAA,eAAC,KAAK,EAAE;AACT,YAAI,CAAC,aAAa,EAAE,CAAC;AACrB,YAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AACvB,YAAI,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,YAAY,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;KACpG;;AAZC,0BAAsB,WAaxB,SAAS,GAAA,qBAAG;AACR,YAAI,CAAC,aAAa,EAAE,CAAC;AACrB,YAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;KAC/B;;AAhBC,0BAAsB,WAiBxB,aAAa,GAAA,yBAAG;AACZ,YAAI,CAAC,aAAa,EAAE,CAAC;AACrB,YAAI,IAAI,CAAC,SAAS,IAAI,IAAI,EAAE;AACxB,gBAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACtC,gBAAI,CAAC,SAAS,GAAG,IAAI,CAAC;SACzB;KACJ;;AAvBC,0BAAsB,WAwBxB,aAAa,GAAA,yBAAG;AACZ,YAAM,qBAAqB,GAAG,IAAI,CAAC,qBAAqB,CAAC;AACzD,YAAI,qBAAqB,KAAK,IAAI,EAAE;AAChC,gBAAI,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC;AACnC,iCAAqB,CAAC,WAAW,EAAE,CAAC;AACpC,gBAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;SACrC;KACJ;;WA/BC,sBAAsB;;;AAiC5B,SAAS,YAAY,CAAC,UAAU,EAAE;AAC9B,cAAU,CAAC,aAAa,EAAE,CAAC;CAC9B","file":"debounceTime.js","sourcesContent":["import Subscriber from '../Subscriber';\nimport nextTick from '../schedulers/nextTick';\nexport default function debounceTime(dueTime, scheduler = nextTick) {\n    return this.lift(new DebounceTimeOperator(dueTime, scheduler));\n}\nclass DebounceTimeOperator {\n    constructor(dueTime, scheduler) {\n        this.dueTime = dueTime;\n        this.scheduler = scheduler;\n    }\n    call(subscriber) {\n        return new DebounceTimeSubscriber(subscriber, this.dueTime, this.scheduler);\n    }\n}\nclass DebounceTimeSubscriber extends Subscriber {\n    constructor(destination, dueTime, scheduler) {\n        super(destination);\n        this.dueTime = dueTime;\n        this.scheduler = scheduler;\n        this.debouncedSubscription = null;\n        this.lastValue = null;\n    }\n    _next(value) {\n        this.clearDebounce();\n        this.lastValue = value;\n        this.add(this.debouncedSubscription = this.scheduler.schedule(dispatchNext, this.dueTime, this));\n    }\n    _complete() {\n        this.debouncedNext();\n        this.destination.complete();\n    }\n    debouncedNext() {\n        this.clearDebounce();\n        if (this.lastValue != null) {\n            this.destination.next(this.lastValue);\n            this.lastValue = null;\n        }\n    }\n    clearDebounce() {\n        const debouncedSubscription = this.debouncedSubscription;\n        if (debouncedSubscription !== null) {\n            this.remove(debouncedSubscription);\n            debouncedSubscription.unsubscribe();\n            this.debouncedSubscription = null;\n        }\n    }\n}\nfunction dispatchNext(subscriber) {\n    subscriber.debouncedNext();\n}\n//# sourceMappingURL=debounceTime.js.map"]}