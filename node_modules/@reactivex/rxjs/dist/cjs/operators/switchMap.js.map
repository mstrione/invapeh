{"version":3,"sources":["../../es6/operators/switchMap.js"],"names":[],"mappings":"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","file":"switchMap.js","sourcesContent":["import tryCatch from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\nimport OuterSubscriber from '../OuterSubscriber';\nimport subscribeToResult from '../util/subscribeToResult';\nexport default function switchMap(project, resultSelector) {\n    return this.lift(new SwitchMapOperator(project, resultSelector));\n}\nclass SwitchMapOperator {\n    constructor(project, resultSelector) {\n        this.project = project;\n        this.resultSelector = resultSelector;\n    }\n    call(subscriber) {\n        return new SwitchMapSubscriber(subscriber, this.project, this.resultSelector);\n    }\n}\nclass SwitchMapSubscriber extends OuterSubscriber {\n    constructor(destination, project, resultSelector) {\n        super(destination);\n        this.project = project;\n        this.resultSelector = resultSelector;\n        this.hasCompleted = false;\n        this.index = 0;\n    }\n    _next(value) {\n        const index = this.index++;\n        const destination = this.destination;\n        let result = tryCatch(this.project)(value, index);\n        if (result === errorObject) {\n            destination.error(result.e);\n        }\n        else {\n            const innerSubscription = this.innerSubscription;\n            if (innerSubscription) {\n                innerSubscription.unsubscribe();\n            }\n            this.add(this.innerSubscription = subscribeToResult(this, result, value, index));\n        }\n    }\n    _complete() {\n        const innerSubscription = this.innerSubscription;\n        this.hasCompleted = true;\n        if (!innerSubscription || innerSubscription.isUnsubscribed) {\n            this.destination.complete();\n        }\n    }\n    notifyComplete(innerSub) {\n        this.remove(innerSub);\n        const prevSubscription = this.innerSubscription;\n        if (prevSubscription) {\n            prevSubscription.unsubscribe();\n        }\n        this.innerSubscription = null;\n        if (this.hasCompleted) {\n            this.destination.complete();\n        }\n    }\n    notifyError(err) {\n        this.destination.error(err);\n    }\n    notifyNext(outerValue, innerValue, outerIndex, innerIndex) {\n        const { resultSelector, destination } = this;\n        if (resultSelector) {\n            const result = tryCatch(resultSelector)(outerValue, innerValue, outerIndex, innerIndex);\n            if (result === errorObject) {\n                destination.error(errorObject.e);\n            }\n            else {\n                destination.next(result);\n            }\n        }\n        else {\n            destination.next(innerValue);\n        }\n    }\n}\n//# sourceMappingURL=switchMap.js.map"]}