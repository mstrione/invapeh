{"version":3,"sources":["../../es6/operators/reduce-support.js"],"names":[],"mappings":";;;;;;;;;;2BAAuB,eAAe;;;;4BACjB,kBAAkB;;;;+BACX,qBAAqB;;IACpC,cAAc;AACZ,aADF,cAAc,CACX,OAAO,EAAE,GAAG,EAAE;8BADjB,cAAc;;AAEnB,YAAI,CAAC,GAAG,GAAG,GAAG,CAAC;AACf,YAAI,CAAC,OAAO,GAAG,OAAO,CAAC;KAC1B;;AAJQ,kBAAc,WAKvB,IAAI,GAAA,cAAC,UAAU,EAAE;AACb,eAAO,IAAI,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;KACnE;;WAPQ,cAAc;;;;;IASd,gBAAgB;cAAhB,gBAAgB;;AACd,aADF,gBAAgB,CACb,WAAW,EAAE,OAAO,EAAE,GAAG,EAAE;8BAD9B,gBAAgB;;AAErB,+BAAM,WAAW,CAAC,CAAC;AACnB,YAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;AACtB,YAAI,CAAC,GAAG,GAAG,GAAG,CAAC;AACf,YAAI,CAAC,OAAO,GAAG,OAAO,CAAC;AACvB,YAAI,CAAC,OAAO,GAAG,OAAO,GAAG,KAAK,WAAW,CAAC;KAC7C;;;;AAPQ,oBAAgB,WAQzB,KAAK,GAAA,eAAC,CAAC,EAAE;AACL,YAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAA,AAAC,EAAE;AACjD,gBAAM,MAAM,GAAG,0BAAS,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;AAC9D,gBAAI,MAAM,iCAAgB,EAAE;AACxB,oBAAI,CAAC,WAAW,CAAC,KAAK,CAAC,6BAAY,CAAC,CAAC,CAAC;aACzC,MACI;AACD,oBAAI,CAAC,GAAG,GAAG,MAAM,CAAC;aACrB;SACJ,MACI;AACD,gBAAI,CAAC,GAAG,GAAG,CAAC,CAAC;AACb,gBAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;SACxB;KACJ;;AAtBQ,oBAAgB,WAuBzB,SAAS,GAAA,qBAAG;AACR,YAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,OAAO,EAAE;AAC/B,gBAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SACnC;AACD,YAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;KAC/B;;WA5BQ,gBAAgB","file":"reduce-support.js","sourcesContent":["import Subscriber from '../Subscriber';\nimport tryCatch from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\nexport class ReduceOperator {\n    constructor(project, acc) {\n        this.acc = acc;\n        this.project = project;\n    }\n    call(subscriber) {\n        return new ReduceSubscriber(subscriber, this.project, this.acc);\n    }\n}\nexport class ReduceSubscriber extends Subscriber {\n    constructor(destination, project, acc) {\n        super(destination);\n        this.hasValue = false;\n        this.acc = acc;\n        this.project = project;\n        this.hasSeed = typeof acc !== 'undefined';\n    }\n    _next(x) {\n        if (this.hasValue || (this.hasValue = this.hasSeed)) {\n            const result = tryCatch(this.project).call(this, this.acc, x);\n            if (result === errorObject) {\n                this.destination.error(errorObject.e);\n            }\n            else {\n                this.acc = result;\n            }\n        }\n        else {\n            this.acc = x;\n            this.hasValue = true;\n        }\n    }\n    _complete() {\n        if (this.hasValue || this.hasSeed) {\n            this.destination.next(this.acc);\n        }\n        this.destination.complete();\n    }\n}\n//# sourceMappingURL=reduce-support.js.map"]}