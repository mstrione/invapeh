{"version":3,"sources":["../../es6/operators/scan.js"],"names":[],"mappings":";;;;;;qBAGwB,IAAI;;;;;;;;2BAHL,eAAe;;;;4BACjB,kBAAkB;;;;+BACX,qBAAqB;;AAClC,SAAS,IAAI,CAAC,OAAO,EAAE,GAAG,EAAE;AACvC,WAAO,IAAI,CAAC,IAAI,CAAC,IAAI,YAAY,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;CACpD;;IACK,YAAY;AACH,aADT,YAAY,CACF,OAAO,EAAE,GAAG,EAAE;8BADxB,YAAY;;AAEV,YAAI,CAAC,GAAG,GAAG,GAAG,CAAC;AACf,YAAI,CAAC,OAAO,GAAG,OAAO,CAAC;KAC1B;;AAJC,gBAAY,WAKd,IAAI,GAAA,cAAC,UAAU,EAAE;AACb,eAAO,IAAI,cAAc,CAAC,UAAU,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;KACjE;;WAPC,YAAY;;;IASZ,cAAc;cAAd,cAAc;;AACL,aADT,cAAc,CACJ,WAAW,EAAE,OAAO,EAAE,GAAG,EAAE;8BADrC,cAAc;;AAEZ,+BAAM,WAAW,CAAC,CAAC;AACnB,YAAI,CAAC,cAAc,GAAG,KAAK,CAAC;AAC5B,YAAI,CAAC,GAAG,GAAG,GAAG,CAAC;AACf,YAAI,CAAC,OAAO,GAAG,OAAO,CAAC;AACvB,YAAI,CAAC,cAAc,GAAG,OAAO,GAAG,KAAK,WAAW,CAAC;KACpD;;;;AAPC,kBAAc,WAehB,KAAK,GAAA,eAAC,CAAC,EAAE;AACL,YAAI,CAAC,IAAI,CAAC,cAAc,EAAE;AACtB,gBAAI,CAAC,GAAG,GAAG,CAAC,CAAC;AACb,gBAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;SAC5B,MACI;AACD,gBAAM,MAAM,GAAG,0BAAS,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;AAC9D,gBAAI,MAAM,iCAAgB,EAAE;AACxB,oBAAI,CAAC,WAAW,CAAC,KAAK,CAAC,6BAAY,CAAC,CAAC,CAAC;aACzC,MACI;AACD,oBAAI,CAAC,GAAG,GAAG,MAAM,CAAC;AAClB,oBAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACnC;SACJ;KACJ;;iBA9BC,cAAc;;aAQT,eAAG;AACN,mBAAO,IAAI,CAAC,IAAI,CAAC;SACpB;aACM,aAAC,KAAK,EAAE;AACX,gBAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,gBAAI,CAAC,IAAI,GAAG,KAAK,CAAC;SACrB;;;WAdC,cAAc","file":"scan.js","sourcesContent":["import Subscriber from '../Subscriber';\nimport tryCatch from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\nexport default function scan(project, acc) {\n    return this.lift(new ScanOperator(project, acc));\n}\nclass ScanOperator {\n    constructor(project, acc) {\n        this.acc = acc;\n        this.project = project;\n    }\n    call(subscriber) {\n        return new ScanSubscriber(subscriber, this.project, this.acc);\n    }\n}\nclass ScanSubscriber extends Subscriber {\n    constructor(destination, project, acc) {\n        super(destination);\n        this.accumulatorSet = false;\n        this.acc = acc;\n        this.project = project;\n        this.accumulatorSet = typeof acc !== 'undefined';\n    }\n    get acc() {\n        return this._acc;\n    }\n    set acc(value) {\n        this.accumulatorSet = true;\n        this._acc = value;\n    }\n    _next(x) {\n        if (!this.accumulatorSet) {\n            this.acc = x;\n            this.destination.next(x);\n        }\n        else {\n            const result = tryCatch(this.project).call(this, this.acc, x);\n            if (result === errorObject) {\n                this.destination.error(errorObject.e);\n            }\n            else {\n                this.acc = result;\n                this.destination.next(this.acc);\n            }\n        }\n    }\n}\n//# sourceMappingURL=scan.js.map"]}